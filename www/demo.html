<html>
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Open+Sans:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
        <meta http-equiv="Cache-control"content="public">
        <meta http-eqiv="max-age" content="10000000000">
        <link rel="stylesheet" type="text/css" href="css/home.css">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&family=Slabo+13px&display=swap" rel="stylesheet">
        <script type="text/javascript">
            function sleep(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }
            img1 = new Array();
            function preload(i){
                img1[i] = new Image();
                var url = "Cadre/";
                if(i<=9) url=url +"000"
                if(i>=10&&i<=99) url=url +"00"
                if(i>=100&&i<=999) url=url +"0"
                url = url + i.toString(10);
                url = url+".webp";
                img1[i].src = url;
                console.log(1);
                sleep(100);
            }
            function binary_load(l,r){
                for(i=1;i<=Math.floor(Math.log2(r))+1;i++){
                    console.log("i="+i);
                    for(j=1;j<=Math.pow(2,i);j++){
                        console.log("j="+j)
                        preload(Math.floor(r/Math.pow(2,i)*j));
                        console.log(1)
                    }
                }
            }
			if (document.images) {
                preload(1);
                preload(128);
                binary_load(1,128);
			}
        </script>
    </head>
    <body>
        <header>
            <div id="logo"><img src="Logo1.svg"/></div>
            <nav><ul>
                <li><a class="active" href="">Home</a></li>
                <li><a href="">Services</a></li>
                <li><a href="">Portfolio</a></li>
                <li><a href="">Reviews</a></li>
                <li><a href="">Contact</a></li>
            </ul></nav>
        </header>
        <div class="showcase">
            <div class="motto">
                <p onmousemove="radialPhotoAnimation(event,'example1')"><span class="highlighted">Adaptability</span>&nbsp;&nbsp;is&nbsp;&nbsp;our</br>
                    top&nbsp;&nbsp;<span class="highlighted">priority</span></p>
            </div>
            <div class="overlay" onmousemove="radialPhotoAnimation(event,'example1')"></div>
            <img id="example1" src="Cadre/0001.webp" />
        </div>
    </body>
    <script>
        function mapping(x,x1,y1,x2,y2){
            return ((x-x1)*(y2-x2)/(y1-x1))+x2;
        }
        function radialPhotoAnimation(event, id) {
            var eventDoc, doc, body;
            event = event || window.event;
            if (event.pageX == null && event.clientX != null) {
                eventDoc = (event.target && event.target.ownerDocument) || document;
                doc = eventDoc.documentElement;
                body = eventDoc.body;
    
                event.pageX = event.clientX +
                  (doc && doc.scrollLeft || body && body.scrollLeft || 0) -
                  (doc && doc.clientLeft || body && body.clientLeft || 0);
                event.pageY = event.clientY +
                  (doc && doc.scrollTop  || body && body.scrollTop  || 0) -
                  (doc && doc.clientTop  || body && body.clientTop  || 0 );
            }
            var theta = Math.acos((event.offsetX)/Math.pow(event.offsetX*event.offsetX+event.offsetY*event.offsetY,1/2))
            console.log(mapping(theta,0,Math.PI/2,1,128));
            /*var Xcoord=(Math.floor((event.pageY/window.innerHeight)*128*2)+1)-128
            console.log(Xcoord+"   "+ event.pageY+"   "+ window.innerHeight+"  "+ event.clientY)
            var Sxcoord=Math.floor(128/(1+Math.pow(2.71828,-0.085*(Xcoord-64))))+1*/
            Xcoord=Math.floor(mapping(theta,0,Math.PI*0.5,1,128))
            if(Xcoord<=1)Xcoord=1;
            if(Xcoord>=128)Xcoord=128;
            var url = "Cadre/";
            if(Xcoord<=9)
            url=url +"000"
            if(Xcoord>=10&&Xcoord<=99)
            url=url +"00"
            if(Xcoord>=100&&Xcoord<=999)
            url=url +"0"
            url = url + Xcoord.toString(10);
            url = url+".webp";
            document.getElementById(id).src = url;
        }
    </script>
</html>